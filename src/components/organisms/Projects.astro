---
import ExperienceCard from "../molecules/experience-card/ExperienceCard.astro";
import { BADGE_ID_TO_DATA } from "@/data/badges";
import { PROJECT_ID_TO_DATA } from "@/data/projects";
import CardButton from "@/components/atoms/buttons/CardButton.astro";
import githubIcon from "@/assets/icons/github.svg";
import websiteIcon from "@/assets/icons/website.svg";
---

{
  Object.values(PROJECT_ID_TO_DATA).map((v) => (
    <ExperienceCard
      imgSrc={v.iconUrl}
      imgAlt={`${v.name}`}
      title={v.name}
      description={v.description}
      badges={v.tech.map((techId) => BADGE_ID_TO_DATA[techId])}
      forceCollapseDescription={true}
      forceTechColumnDisplay={true}
    >
      {v.repoUrl && (
        <CardButton
          slot="actions"
          label="Github"
          iconSrc={githubIcon}
          url={v.repoUrl}
          altText="Github"
          color="--primary-black-400"
          turnIconWhite={true}
        />
      )}
      {v.websiteUrl && (
        <CardButton
          slot="actions"
          label="Website"
          url={v.websiteUrl}
          iconSrc={websiteIcon}
          altText="Website"
          color="--secondary-purple-400"
          turnIconWhite={true}
        />
      )}
    </ExperienceCard>
  ))
}
